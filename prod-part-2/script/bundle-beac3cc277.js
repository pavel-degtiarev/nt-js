!function(){var t={484:function(t){t.exports=function(){"use strict";var t=6e4,e=36e5,n="millisecond",r="second",i="minute",s="hour",o="day",a="week",u="month",c="quarter",h="year",d="date",f="Invalid Date",l=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,$={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},p=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},v={s:p,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+p(r,2,"0")+":"+p(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,u),s=n-i<0,o=e.clone().add(r+(s?-1:1),u);return+(-(r+(n-i)/(s?i-o:o-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:u,y:h,w:a,d:o,D:d,h:s,m:i,s:r,ms:n,Q:c}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},w="en",y={};y[w]=$;var M=function(t){return t instanceof D},b=function t(e,n,r){var i;if(!e)return w;if("string"==typeof e){var s=e.toLowerCase();y[s]&&(i=s),n&&(y[s]=n,i=s);var o=e.split("-");if(!i&&o.length>1)return t(o[0])}else{var a=e.name;y[a]=e,i=a}return!r&&i&&(w=i),i||!r&&w},_=function(t,e){if(M(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new D(n)},g=v;g.l=b,g.i=M,g.w=function(t,e){return _(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var D=function(){function $(t){this.$L=b(t.locale,null,!0),this.parse(t)}var p=$.prototype;return p.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(g.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(l);if(r){var i=r[2]-1||0,s=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},p.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},p.$utils=function(){return g},p.isValid=function(){return!(this.$d.toString()===f)},p.isSame=function(t,e){var n=_(t);return this.startOf(e)<=n&&n<=this.endOf(e)},p.isAfter=function(t,e){return _(t)<this.startOf(e)},p.isBefore=function(t,e){return this.endOf(e)<_(t)},p.$g=function(t,e,n){return g.u(t)?this[e]:this.set(n,t)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(t,e){var n=this,c=!!g.u(e)||e,f=g.p(t),l=function(t,e){var r=g.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return c?r:r.endOf(o)},m=function(t,e){return g.w(n.toDate()[t].apply(n.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},$=this.$W,p=this.$M,v=this.$D,w="set"+(this.$u?"UTC":"");switch(f){case h:return c?l(1,0):l(31,11);case u:return c?l(1,p):l(0,p+1);case a:var y=this.$locale().weekStart||0,M=($<y?$+7:$)-y;return l(c?v-M:v+(6-M),p);case o:case d:return m(w+"Hours",0);case s:return m(w+"Minutes",1);case i:return m(w+"Seconds",2);case r:return m(w+"Milliseconds",3);default:return this.clone()}},p.endOf=function(t){return this.startOf(t,!1)},p.$set=function(t,e){var a,c=g.p(t),f="set"+(this.$u?"UTC":""),l=(a={},a[o]=f+"Date",a[d]=f+"Date",a[u]=f+"Month",a[h]=f+"FullYear",a[s]=f+"Hours",a[i]=f+"Minutes",a[r]=f+"Seconds",a[n]=f+"Milliseconds",a)[c],m=c===o?this.$D+(e-this.$W):e;if(c===u||c===h){var $=this.clone().set(d,1);$.$d[l](m),$.init(),this.$d=$.set(d,Math.min(this.$D,$.daysInMonth())).$d}else l&&this.$d[l](m);return this.init(),this},p.set=function(t,e){return this.clone().$set(t,e)},p.get=function(t){return this[g.p(t)]()},p.add=function(n,c){var d,f=this;n=Number(n);var l=g.p(c),m=function(t){var e=_(f);return g.w(e.date(e.date()+Math.round(t*n)),f)};if(l===u)return this.set(u,this.$M+n);if(l===h)return this.set(h,this.$y+n);if(l===o)return m(1);if(l===a)return m(7);var $=(d={},d[i]=t,d[s]=e,d[r]=1e3,d)[l]||1,p=this.$d.getTime()+n*$;return g.w(p,this)},p.subtract=function(t,e){return this.add(-1*t,e)},p.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||f;var r=t||"YYYY-MM-DDTHH:mm:ssZ",i=g.z(this),s=this.$H,o=this.$m,a=this.$M,u=n.weekdays,c=n.months,h=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].slice(0,s)},d=function(t){return g.s(s%12||12,t,"0")},l=n.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},$={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:g.s(a+1,2,"0"),MMM:h(n.monthsShort,a,c,3),MMMM:h(c,a),D:this.$D,DD:g.s(this.$D,2,"0"),d:String(this.$W),dd:h(n.weekdaysMin,this.$W,u,2),ddd:h(n.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(s),HH:g.s(s,2,"0"),h:d(1),hh:d(2),a:l(s,o,!0),A:l(s,o,!1),m:String(o),mm:g.s(o,2,"0"),s:String(this.$s),ss:g.s(this.$s,2,"0"),SSS:g.s(this.$ms,3,"0"),Z:i};return r.replace(m,(function(t,e){return e||$[t]||i.replace(":","")}))},p.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},p.diff=function(n,d,f){var l,m=g.p(d),$=_(n),p=($.utcOffset()-this.utcOffset())*t,v=this-$,w=g.m(this,$);return w=(l={},l[h]=w/12,l[u]=w,l[c]=w/3,l[a]=(v-p)/6048e5,l[o]=(v-p)/864e5,l[s]=v/e,l[i]=v/t,l[r]=v/1e3,l)[m]||v,f?w:g.a(w)},p.daysInMonth=function(){return this.endOf(u).$D},p.$locale=function(){return y[this.$L]},p.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=b(t,e,!0);return r&&(n.$L=r),n},p.clone=function(){return g.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},$}(),S=D.prototype;return _.prototype=S,[["$ms",n],["$s",r],["$m",i],["$H",s],["$W",o],["$M",u],["$y",h],["$D",d]].forEach((function(t){S[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),_.extend=function(t,e){return t.$i||(t(e,D,_),t.$i=!0),_},_.locale=b,_.isDayjs=M,_.unix=function(t){return _(1e3*t)},_.en=y[w],_.Ls=y,_.p={},_}()},285:function(t){t.exports=function(){"use strict";var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},e=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d\d/,r=/\d\d?/,i=/\d*[^-_:/,()\s\d]+/,s={},o=function(t){return(t=+t)+(t>68?1900:2e3)},a=function(t){return function(e){this[t]=+e}},u=[/[+-]\d\d:?(\d\d)?|Z/,function(t){(this.zone||(this.zone={})).offset=function(t){if(!t)return 0;if("Z"===t)return 0;var e=t.match(/([+-]|\d\d)/g),n=60*e[1]+(+e[2]||0);return 0===n?0:"+"===e[0]?-n:n}(t)}],c=function(t){var e=s[t];return e&&(e.indexOf?e:e.s.concat(e.f))},h=function(t,e){var n,r=s.meridiem;if(r){for(var i=1;i<=24;i+=1)if(t.indexOf(r(i,0,e))>-1){n=i>12;break}}else n=t===(e?"pm":"PM");return n},d={A:[i,function(t){this.afternoon=h(t,!1)}],a:[i,function(t){this.afternoon=h(t,!0)}],S:[/\d/,function(t){this.milliseconds=100*+t}],SS:[n,function(t){this.milliseconds=10*+t}],SSS:[/\d{3}/,function(t){this.milliseconds=+t}],s:[r,a("seconds")],ss:[r,a("seconds")],m:[r,a("minutes")],mm:[r,a("minutes")],H:[r,a("hours")],h:[r,a("hours")],HH:[r,a("hours")],hh:[r,a("hours")],D:[r,a("day")],DD:[n,a("day")],Do:[i,function(t){var e=s.ordinal,n=t.match(/\d+/);if(this.day=n[0],e)for(var r=1;r<=31;r+=1)e(r).replace(/\[|\]/g,"")===t&&(this.day=r)}],M:[r,a("month")],MM:[n,a("month")],MMM:[i,function(t){var e=c("months"),n=(c("monthsShort")||e.map((function(t){return t.slice(0,3)}))).indexOf(t)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[i,function(t){var e=c("months").indexOf(t)+1;if(e<1)throw new Error;this.month=e%12||e}],Y:[/[+-]?\d+/,a("year")],YY:[n,function(t){this.year=o(t)}],YYYY:[/\d{4}/,a("year")],Z:u,ZZ:u};function f(n){var r,i;r=n,i=s&&s.formats;for(var o=(n=r.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(e,n,r){var s=r&&r.toUpperCase();return n||i[r]||t[r]||i[s].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(t,e,n){return e||n.slice(1)}))}))).match(e),a=o.length,u=0;u<a;u+=1){var c=o[u],h=d[c],f=h&&h[0],l=h&&h[1];o[u]=l?{regex:f,parser:l}:c.replace(/^\[|\]$/g,"")}return function(t){for(var e={},n=0,r=0;n<a;n+=1){var i=o[n];if("string"==typeof i)r+=i.length;else{var s=i.regex,u=i.parser,c=t.slice(r),h=s.exec(c)[0];u.call(e,h),t=t.replace(h,"")}}return function(t){var e=t.afternoon;if(void 0!==e){var n=t.hours;e?n<12&&(t.hours+=12):12===n&&(t.hours=0),delete t.afternoon}}(e),e}}return function(t,e,n){n.p.customParseFormat=!0,t&&t.parseTwoDigitYear&&(o=t.parseTwoDigitYear);var r=e.prototype,i=r.parse;r.parse=function(t){var e=t.date,r=t.utc,o=t.args;this.$u=r;var a=o[1];if("string"==typeof a){var u=!0===o[2],c=!0===o[3],h=u||c,d=o[2];c&&(d=o[2]),s=this.$locale(),!u&&d&&(s=n.Ls[d]),this.$d=function(t,e,n){try{if(["x","X"].indexOf(e)>-1)return new Date(("X"===e?1e3:1)*t);var r=f(e)(t),i=r.year,s=r.month,o=r.day,a=r.hours,u=r.minutes,c=r.seconds,h=r.milliseconds,d=r.zone,l=new Date,m=o||(i||s?1:l.getDate()),$=i||l.getFullYear(),p=0;i&&!s||(p=s>0?s-1:l.getMonth());var v=a||0,w=u||0,y=c||0,M=h||0;return d?new Date(Date.UTC($,p,m,v,w,y,M+60*d.offset*1e3)):n?new Date(Date.UTC($,p,m,v,w,y,M)):new Date($,p,m,v,w,y,M)}catch(t){return new Date("")}}(e,a,r),this.init(),d&&!0!==d&&(this.$L=this.locale(d).$L),h&&e!=this.format(a)&&(this.$d=new Date("")),s={}}else if(a instanceof Array)for(var l=a.length,m=1;m<=l;m+=1){o[1]=a[m-1];var $=n.apply(this,o);if($.isValid()){this.$d=$.$d,this.$L=$.$L,this.init();break}m===l&&(this.$d=new Date(""))}else i.call(this,t)}}}()},646:function(t){t.exports=function(){"use strict";var t,e,n=1e3,r=6e4,i=36e5,s=864e5,o=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,a=31536e6,u=2592e6,c=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,h={years:a,months:u,days:s,hours:i,minutes:r,seconds:n,milliseconds:1,weeks:6048e5},d=function(t){return t instanceof w},f=function(t,e,n){return new w(t,n,e.$l)},l=function(t){return e.p(t)+"s"},m=function(t){return t<0},$=function(t){return m(t)?Math.ceil(t):Math.floor(t)},p=function(t){return Math.abs(t)},v=function(t,e){return t?m(t)?{negative:!0,format:""+p(t)+e}:{negative:!1,format:""+t+e}:{negative:!1,format:""}},w=function(){function m(t,e,n){var r=this;if(this.$d={},this.$l=n,void 0===t&&(this.$ms=0,this.parseFromMilliseconds()),e)return f(t*h[l(e)],this);if("number"==typeof t)return this.$ms=t,this.parseFromMilliseconds(),this;if("object"==typeof t)return Object.keys(t).forEach((function(e){r.$d[l(e)]=t[e]})),this.calMilliseconds(),this;if("string"==typeof t){var i=t.match(c);if(i){var s=i.slice(2).map((function(t){return null!=t?Number(t):0}));return this.$d.years=s[0],this.$d.months=s[1],this.$d.weeks=s[2],this.$d.days=s[3],this.$d.hours=s[4],this.$d.minutes=s[5],this.$d.seconds=s[6],this.calMilliseconds(),this}}return this}var p=m.prototype;return p.calMilliseconds=function(){var t=this;this.$ms=Object.keys(this.$d).reduce((function(e,n){return e+(t.$d[n]||0)*h[n]}),0)},p.parseFromMilliseconds=function(){var t=this.$ms;this.$d.years=$(t/a),t%=a,this.$d.months=$(t/u),t%=u,this.$d.days=$(t/s),t%=s,this.$d.hours=$(t/i),t%=i,this.$d.minutes=$(t/r),t%=r,this.$d.seconds=$(t/n),t%=n,this.$d.milliseconds=t},p.toISOString=function(){var t=v(this.$d.years,"Y"),e=v(this.$d.months,"M"),n=+this.$d.days||0;this.$d.weeks&&(n+=7*this.$d.weeks);var r=v(n,"D"),i=v(this.$d.hours,"H"),s=v(this.$d.minutes,"M"),o=this.$d.seconds||0;this.$d.milliseconds&&(o+=this.$d.milliseconds/1e3);var a=v(o,"S"),u=t.negative||e.negative||r.negative||i.negative||s.negative||a.negative,c=i.format||s.format||a.format?"T":"",h=(u?"-":"")+"P"+t.format+e.format+r.format+c+i.format+s.format+a.format;return"P"===h||"-P"===h?"P0D":h},p.toJSON=function(){return this.toISOString()},p.format=function(t){var n=t||"YYYY-MM-DDTHH:mm:ss",r={Y:this.$d.years,YY:e.s(this.$d.years,2,"0"),YYYY:e.s(this.$d.years,4,"0"),M:this.$d.months,MM:e.s(this.$d.months,2,"0"),D:this.$d.days,DD:e.s(this.$d.days,2,"0"),H:this.$d.hours,HH:e.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:e.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:e.s(this.$d.seconds,2,"0"),SSS:e.s(this.$d.milliseconds,3,"0")};return n.replace(o,(function(t,e){return e||String(r[t])}))},p.as=function(t){return this.$ms/h[l(t)]},p.get=function(t){var e=this.$ms,n=l(t);return"milliseconds"===n?e%=1e3:e="weeks"===n?$(e/h[n]):this.$d[n],0===e?0:e},p.add=function(t,e,n){var r;return r=e?t*h[l(e)]:d(t)?t.$ms:f(t,this).$ms,f(this.$ms+r*(n?-1:1),this)},p.subtract=function(t,e){return this.add(t,e,!0)},p.locale=function(t){var e=this.clone();return e.$l=t,e},p.clone=function(){return f(this.$ms,this)},p.humanize=function(e){return t().add(this.$ms,"ms").locale(this.$l).fromNow(!e)},p.milliseconds=function(){return this.get("milliseconds")},p.asMilliseconds=function(){return this.as("milliseconds")},p.seconds=function(){return this.get("seconds")},p.asSeconds=function(){return this.as("seconds")},p.minutes=function(){return this.get("minutes")},p.asMinutes=function(){return this.as("minutes")},p.hours=function(){return this.get("hours")},p.asHours=function(){return this.as("hours")},p.days=function(){return this.get("days")},p.asDays=function(){return this.as("days")},p.weeks=function(){return this.get("weeks")},p.asWeeks=function(){return this.as("weeks")},p.months=function(){return this.get("months")},p.asMonths=function(){return this.as("months")},p.years=function(){return this.get("years")},p.asYears=function(){return this.as("years")},m}();return function(n,r,i){t=i,e=i().$utils(),i.duration=function(t,e){var n=i.locale();return f(t,{$l:n},e)},i.isDuration=d;var s=r.prototype.add,o=r.prototype.subtract;r.prototype.add=function(t,e){return d(t)&&(t=t.asMilliseconds()),s.bind(this)(t,e)},r.prototype.subtract=function(t,e){return d(t)&&(t=t.asMilliseconds()),o.bind(this)(t,e)}}}()}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var s=e[r]={exports:{}};return t[r].call(s.exports,s,s.exports,n),s.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){"use strict";var t=Object.defineProperty,e=(e,n,r)=>(((e,n,r)=>{n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r})(e,"symbol"!=typeof n?n+"":n,r),r),r=Object.defineProperty,i=Object.defineProperty;class s{constructor(t){if(((t,e,n)=>{e in t?i(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n})(this,"symbol"!=typeof(e="_container")?e+"":e,null),!t)throw new Error("Не передан DOM-элемент!");var e;this._container=t}hide(){this._container.classList.add("hidden")}show(){this._container.classList.remove("hidden")}get container(){return this._container}}var o=Object.defineProperty;const a={AtoB:["18:00","18:30","18:45","19:00","19:15","21:00"],BtoA:["18:30","18:45","19:00","19:15","19:35","21:50","21:55"]};var u=n(484),c=n.n(u),h=n(285),d=n.n(h),f=n(646),l=n.n(f),m=Object.defineProperty,$=(t,e,n)=>(((t,e,n)=>{e in t?m(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n})(t,"symbol"!=typeof e?e+"":e,n),n);c().extend(d()),c().extend(l());var p=Object.defineProperty;class v extends s{constructor(t){if(!t)throw new Error("Не передан селектор!");var e;super(t.closest(".select-time__selector")),((t,e,n)=>{e in t?p(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n})(this,"symbol"!=typeof(e="_select")?e+"":e,null),this._select=t,this._addDefaultOption()}_addOption(t,e,n=!1){const r=document.createElement("option");r.value=e,r.innerHTML=t,n&&r.setAttribute("selected",!0),this._select.append(r)}_addDefaultOption(){this._addOption("не выбрано","",!0)}_resetOptions(){this._select.innerHTML=""}fillOptions(t){this._resetOptions(),this._addDefaultOption(),t.forEach((t=>this._addOption(t,t)))}}const w={AtoB:700,BtoA:700,both:1200};var y=Object.defineProperty;function M(t){return t.asHours()>1?t.format("H ч. mm мин."):t.format("mm мин.")}function b(t){return t.format("HH:mm")}c().extend(d()),c().extend(l());var _=Object.defineProperty,g=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,O=(t,e,n)=>e in t?_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;const Y=document.forms.tripForm,{ticketsAmount:k,timeTowards:T,timeBackwards:H}=((t,e)=>{for(var n in e||(e={}))D.call(e,n)&&O(t,n,e[n]);if(g)for(var n of g(e))S.call(e,n)&&O(t,n,e[n]);return t})({},Y.elements),A=new class extends s{constructor(t,e){if(!t||!e)throw new Error("Не переданы селекторы!");super(t.container.closest(".select-time")),$(this,"_timeTowardsSelector",null),$(this,"_timeBackwardsSelector",null),$(this,"_currentDirection",""),$(this,"_currentTorwardsTime",""),this._timeTowardsSelector=t,this._timeBackwardsSelector=e,this.renderSelectors=this.renderSelectors.bind(this),this.excludeInvalidBackwardsOptions=this.excludeInvalidBackwardsOptions.bind(this)}hide(){this._timeTowardsSelector.hide(),this._timeBackwardsSelector.hide(),super.hide()}show(t=!0){super.show(),this._timeTowardsSelector.show(),t&&this._timeBackwardsSelector.show()}renderSelectors({direction:t}){if(t!==this._currentDirection)switch(this._currentTorwardsTime="",this._currentDirection=t,this.hide(),this._currentDirection){case"AtoB":this.show(!1),this._timeTowardsSelector.fillOptions(a.AtoB);break;case"BtoA":this.show(!1),this._timeTowardsSelector.fillOptions(a.BtoA);break;case"both":this.show(),this._timeTowardsSelector.fillOptions(a.AtoB),this._timeBackwardsSelector.fillOptions(a.BtoA)}}excludeInvalidBackwardsOptions({direction:t,timeTowards:e}){if("both"!==t)return;if(e===this._currentTorwardsTime)return;if(this._currentTorwardsTime=e,""===this._currentTorwardsTime)return void this._timeBackwardsSelector.fillOptions(a.BtoA);const n=c()(e,"HH:mm").add(c().duration({minutes:50})),r=a.BtoA.filter((t=>c()(t,"HH:mm").isAfter(n)));this._timeBackwardsSelector.fillOptions(r)}}(new v(T),new v(H)),B=new class extends s{constructor(t){if(!t)throw new Error("Не передано поле ввода количества билетов!");var e;super(t.closest(".tickets-amount")),((t,e,n)=>{e in t?o(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n})(this,"symbol"!=typeof(e="_input")?e+"":e,null),this._input=t,this.renderAmount=this.renderAmount.bind(this)}renderAmount(t){!function({direction:t,timeTowards:e,timeBackwards:n}){switch(t){case"AtoB":case"BtoA":return""!==e;case"both":return""!==e&&""!==n}return!1}(t)?(this._input.value="",this.hide()):this.show()}}(k),L=new class extends s{constructor(t){super(t),this.renderInformer=this.renderInformer.bind(this),this.addInfo=this.addInfo.bind(this)}addInfo(t){const e=document.createElement("p");e.classList.add("informer__data"),e.innerText=t,this.container.append(e)}_clearInfo(){this.container.innerHTML=""}_isEmpty(){return 0===this.container.children.length}renderInformer({ticketsAmount:t}){""!==t&&Number(t)>0?!this._isEmpty()&&this.show():(this._clearInfo(),this.hide())}}(document.querySelector(".informer")),x=new class{constructor(t){if(((t,e,n)=>{e in t?r(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n})(this,"symbol"!=typeof(e="_button")?e+"":e,null),!t)throw new Error("Не передана кнопка!");var e;this._button=t,this.renderButton=this.renderButton.bind(this)}_disable(){this._button.classList.add("disabled")}_enable(){this._button.classList.remove("disabled")}addClickHandler(t){this._button.addEventListener("click",t)}renderButton({ticketsAmount:t}){""!==t&&Number(t)>0?this._enable():this._disable()}}(document.querySelector(".button")),I=new class{constructor(t,n=[]){e(this,"_form",null),e(this,"_callbacks",[]),this._form=t,this._callbacks=n,this._form.addEventListener("change",(()=>{this._callbacks.forEach((t=>t(this.state)))}))}get state(){const t=this._form.elements;return{direction:t.direction.value,timeTowards:t.timeTowards.value,timeBackwards:t.timeBackwards.value,ticketsAmount:t.ticketsAmount.value}}}(Y,[A.renderSelectors,A.excludeInvalidBackwardsOptions,B.renderAmount,x.renderButton,L.renderInformer]),P=new class{constructor(t){if(((t,e,n)=>{e in t?y(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n})(this,"symbol"!=typeof(e="_informer")?e+"":e,null),!t)throw new Error("Не передан контейнер для информации!");var e;this._informer=t,this.calc=this.calc.bind(this)}calc(t){const{direction:e,ticketsAmount:n,timeTowards:r,timeBackwards:i}=t,s=w[e]*Number(n);let o,a,u,h;"both"===e?(o=c().duration(100,"minutes"),u=c()(r,"HH:mm"),h=c()(i,"HH:mm").add(c().duration({minutes:50})),a=c().duration(h.diff(u))):(o=c().duration(50,"minutes"),u=c()(r,"HH:mm"),h=c()(r,"HH:mm").add(c().duration({minutes:50})),a=c().duration(50,"minutes")),this._informer.addInfo(`Маршрут: ${function(t){return{AtoB:"из А в B",BtoA:"из B в A",both:"из А в B и обратно"}[t]}(e)}.`),this._informer.addInfo(`Куплено билетов: ${n}. Общая стоимость: ${s} руб.`),this._informer.addInfo(`Общее время поездки: ${M(a)}, время в пути: ${M(o)}`),this._informer.addInfo(`Время отправления: ${b(u)}, время прибытия: ${b(h)}`),this._informer.renderInformer(t)}}(L);x.addClickHandler((()=>P.calc(I.state)))}()}();